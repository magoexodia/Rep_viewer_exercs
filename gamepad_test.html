<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste de Gamepad</title>
</head>
<body>
    <h1>Teste de Gamepad</h1>
    <p>Pressione os botÃµes do gamepad para ver os resultados abaixo:</p>

    <!-- Div para exibir informaÃ§Ãµes do gamepad -->
    <div id="ball" class="bgd">ðŸŽ®</div>

    <script>
        const ball = document.getElementById('ball');
        let x = 0;
        let y = 0;
        let r = 0;

        // Function to update ball position based on gamepad input
        function updateBallPosition(gamepad) {
            const axes = gamepad.axes;
            x += axes[0] * 10;
            y += axes[1] * 10;
            r += axes[3] | axes[2] * 10;
            ball.style.transform = `translate(${x}px, ${y}px) rotate(${r}deg)`;
        }

        // Function to handle gamepad input
        function handleGamepadInput() {
            const gamepads = navigator.getGamepads();
            for (const gamepad of gamepads) {
                if (gamepad) {
                    updateBallPosition(gamepad);

                    // Check button presses
                    for (let i = 0; i < gamepad.buttons.length; i++) {
                        if (gamepad.buttons[i].pressed) {
                            const buttonMap = {
                                0: 'A', 
                                1: 'B', 
                                2: 'X', 
                                3: 'Y', 
                                4: 'LT', 
                                5: 'RT', 
                                6: 'LB', 
                                7: 'LT', 
                                8: 'Back', 
                                9: 'Start', 
                                10: 'R-click', 
                                11: 'L-click',
                                12: 'D-up', 
                                13: 'D-Down', 
                                14: 'D-Left', 
                                15: 'D-Right', 
                                16: 'âŒ-box', 
                            };
                            ball.textContent = buttonMap[i] || 'ðŸ€';
                        }
                    }
                }
            }
            requestAnimationFrame(handleGamepadInput);
        }

        // Start handling gamepad input
        handleGamepadInput();
    </script>
</body>
</html>
